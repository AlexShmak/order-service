# Сервис заказов

Этот проект представляет собой сервис для получения информации о заказах. Он включает в
себя бэкенд на Golang, фронтенд на React, базу данных PostgreSQL, брокер сообщений Kafka и кэш Redis.

## Технологический стек

- **Backend**: `Golang`
- **Frontend**: `React.js`
- **Database**: `PostgreSQL`
- **Broker**: `Kafka`
- **Cache**: `Redis`

## Начало работы

Для запуска проекта вам понадобится Docker.

### Установка

1. **Клонируйте репозиторий:**
2. **Настройка переменных окружения:**

   В корневой директории проекта и в директории `backend` необходимо создать файлы `.env`. Примеры этих файлов можно
   найти в директории `example_configs`.

3. **Запуск проекта:**

   Используйте Makefile в корневой директории для управления всем стеком приложений.

   | **Команда**  | **Описание**                                 |
   |--------------|----------------------------------------------|
   | `make up`    | Запустить все сервисы                        |
   | `make down`  | Остановить все сервисы                       |
   | `make stop`  | Остановить сервисы и очистить БД и кэш       |
   | `make start` | Запустить все сервисы собрав заново `images` |

## Структура проекта

```
├── backend
│   ├── bin
│   ├── cmd
│   │   ├── api
│   │   ├── migrations
│   │   └── worker
│   └── internal
│       ├── auth
│       ├── config
│       ├── db
│       ├── handlers
│       ├── kafka
│       ├── logger
│       ├── router
│       └── storage
│           └── cache
└── frontend
    └── src
        └── pages
```

## Команды для Backend (локальная разработка)

В директории `backend` есть свой `Makefile`.

- `make run`: Запустить приложение без сборки бинарного файла.
- `make build`: Собрать бинарный файл приложения.
- `make lint`: Запустить линтер для проверки кода.
- `make migration NAME`: Создать новый файл миграции с заданным именем.
- `make migrate-up`: Применить все доступные миграции.
- `make migrate-down`: Откатить последнюю примененную миграцию.
